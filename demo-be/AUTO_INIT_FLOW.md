# Database Auto-Initialization Flow

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Server Startup                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Load .env vars â”‚
                    â”‚  - AUTO_SEED    â”‚
                    â”‚  - FORCE_SEED   â”‚
                    â”‚  - NODE_ENV     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  initializeDatabase()          â”‚
            â”‚  (src/utils/db-init.ts)        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    runMigrations()         â”‚
        â”‚                            â”‚
        â”‚  1. Read init.sql          â”‚
        â”‚  2. Parse SQL statements   â”‚
        â”‚  3. Execute each statement â”‚
        â”‚     - CREATE TABLE         â”‚
        â”‚     - CREATE INDEX         â”‚
        â”‚                            â”‚
        â”‚  Result: Tables & Indexes  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Check AUTO_SEED           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚
        â–¼                  â–¼
    AUTO_SEED=true    AUTO_SEED=false
        â”‚                  â”‚
        â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ isDatabaseEmpty() â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
         â”‚                            â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                       â”‚
    â”‚         â”‚                       â”‚
    â–¼         â–¼                       â”‚
  Empty    Has Data                   â”‚
    â”‚         â”‚                       â”‚
    â”‚         â–¼                       â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚    â”‚ FORCE_SEED? â”‚              â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚          â”‚                      â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                 â”‚
    â”‚     â”‚         â”‚                 â”‚
    â”‚     â–¼         â–¼                 â”‚
    â”‚   true      false               â”‚
    â”‚     â”‚         â”‚                 â”‚
    â”‚     â”‚         â””â”€â”€â”€â”€â”€â”€â”          â”‚
    â”‚     â–¼                â”‚          â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚          â”‚
    â””â–ºâ”‚ SEED DB  â”‚         â”‚          â”‚
      â”‚          â”‚         â”‚          â”‚
      â”‚ 1. Clear existing  â”‚          â”‚
      â”‚    (if FORCE)      â”‚          â”‚
      â”‚ 2. Insert 50 todos â”‚          â”‚
      â”‚ 3. Show stats      â”‚          â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜         â”‚          â”‚
             â”‚             â”‚          â”‚
             â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                   â”‚                  â”‚
                   â–¼                  â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
              â”‚  SKIP   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ SEEDING â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Start Express App â”‚
        â”‚  app.listen(PORT)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Server Running    â”‚
        â”‚   Ready for API     â”‚
        â”‚   calls!            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Decision Tree

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Should we seed the database?                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Is AUTO_SEED=true?    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚
        â–¼ NO                     â–¼ YES
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SKIP  â”‚          â”‚ Check database   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                        â”‚
                    â–¼                        â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ DB is empty  â”‚        â”‚ DB has data     â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                         â”‚
                   â–¼                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ SEED!  â”‚         â”‚ Is FORCE_SEED=on? â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                        â”‚
                              â–¼ YES                    â–¼ NO
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ SEED!    â”‚             â”‚ SKIP   â”‚
                        â”‚ (clear   â”‚             â”‚        â”‚
                        â”‚  first)  â”‚             â”‚        â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Environment Variable Impact

| NODE_ENV | AUTO_SEED | FORCE_SEED | DB Empty | DB Has Data | Result |
|----------|-----------|------------|----------|-------------|--------|
| development | (default) | false | âœ… | âŒ | **Seed** |
| development | (default) | false | âŒ | âœ… | **Skip** |
| development | true | false | âœ… | âŒ | **Seed** |
| development | true | false | âŒ | âœ… | **Skip** |
| development | true | true | âŒ | âœ… | **Force Seed** ğŸ—‘ï¸ |
| development | false | - | - | - | **Skip** |
| production | (default) | false | - | - | **Skip** |
| production | true | false | âœ… | âŒ | **Seed** |

## File Dependencies

```
server.ts
    â”‚
    â””â”€â”€â–º imports initializeDatabase()
              â”‚
              â””â”€â”€â–º from src/utils/db-init.ts
                        â”‚
                        â”œâ”€â”€â–º imports pool (from config/database.ts)
                        â”œâ”€â”€â–º reads database/init.sql
                        â””â”€â”€â–º exports:
                              - runMigrations()
                              - isDatabaseEmpty()
                              - seedDatabase()
                              - initializeDatabase()
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Migration Phase                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  database/init.sql       â”‚
        â”‚                          â”‚
        â”‚  â€¢ CREATE TABLE todos    â”‚
        â”‚  â€¢ CREATE INDEX ...      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ (read by)
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  runMigrations()         â”‚
        â”‚                          â”‚
        â”‚  Parses and executes     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ (executes)
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  PostgreSQL Database     â”‚
        â”‚                          â”‚
        â”‚  âœ“ todos table           â”‚
        â”‚  âœ“ indexes               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Seeding Phase (Optional)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  mockTodos[] (in memory) â”‚
        â”‚                          â”‚
        â”‚  50 todo objects         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ (processed by)
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  seedDatabase()          â”‚
        â”‚                          â”‚
        â”‚  Inserts via SQL         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ (INSERTs)
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  PostgreSQL Database     â”‚
        â”‚                          â”‚
        â”‚  âœ“ 50 todos              â”‚
        â”‚    - 11 completed        â”‚
        â”‚    - 39 active           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Console Output Timeline

```
Time  â”‚ Output
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0ms   â”‚ ğŸ”Œ Initializing database...
      â”‚
50ms  â”‚ ğŸ”„ Running database migrations...
      â”‚
200ms â”‚ âœ… Database migrations completed successfully!
      â”‚
250ms â”‚ ğŸŒ± Starting database seeding...
      â”‚
300ms â”‚ ğŸ“ Inserting mock todos...
      â”‚
1500msâ”‚ âœ… Successfully seeded 50 todos!
      â”‚
1550msâ”‚ ğŸ“Š Database Summary:
      â”‚    Total: 50
      â”‚    Completed: 11
      â”‚    Active: 39
      â”‚
1600msâ”‚ ğŸš€ Server is running on http://localhost:3000
      â”‚
      â”‚ âœ“ Ready for API requests!
```

## Function Call Hierarchy

```
startServer()
    â”‚
    â””â”€â–º initializeDatabase()
            â”‚
            â”œâ”€â–º runMigrations()
            â”‚       â”‚
            â”‚       â”œâ”€â–º fs.readFileSync('database/init.sql')
            â”‚       â”‚
            â”‚       â””â”€â–º pool.query(statement) Ã— N statements
            â”‚
            â””â”€â–º seedDatabase(force)
                    â”‚
                    â”œâ”€â–º isDatabaseEmpty()
                    â”‚       â”‚
                    â”‚       â””â”€â–º pool.query('SELECT COUNT(*) ...')
                    â”‚
                    â”œâ”€â–º pool.query('DELETE FROM todos') [if force]
                    â”‚
                    â””â”€â–º pool.query('INSERT INTO todos ...') Ã— 50
```

## Error Handling Flow

```
try {
    runMigrations()
} catch (error) {
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âŒ Error running migrations â”‚
    â”‚    Log error                â”‚
    â”‚    Throw error              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Server exits     â”‚
         â”‚ process.exit(1)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
}

try {
    seedDatabase()
} catch (error) {
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âŒ Error seeding database   â”‚
    â”‚    Log error                â”‚
    â”‚    Throw error              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Server exits     â”‚
         â”‚ process.exit(1)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
}
```

## Idempotency Guarantee

```
Run 1:
    runMigrations()
        â””â”€â–º CREATE TABLE IF NOT EXISTS todos
        â””â”€â–º CREATE INDEX IF NOT EXISTS idx_todos_completed
    Result: âœ“ Tables created

Run 2:
    runMigrations()
        â””â”€â–º CREATE TABLE IF NOT EXISTS todos (skipped - exists)
        â””â”€â–º CREATE INDEX IF NOT EXISTS idx_todos_completed (skipped - exists)
    Result: âœ“ No errors, safe

Run 3:
    runMigrations()
        â””â”€â–º CREATE TABLE IF NOT EXISTS todos (skipped - exists)
        â””â”€â–º CREATE INDEX IF NOT EXISTS idx_todos_completed (skipped - exists)
    Result: âœ“ No errors, safe

Conclusion: Can run migrations unlimited times safely! ğŸ”’
```

## Quick Reference

### Enable Auto-Seed
```bash
AUTO_SEED=true npm run dev
```

### Disable Auto-Seed
```bash
AUTO_SEED=false npm run dev
```

### Force Re-Seed
```bash
FORCE_SEED=true npm run dev
```

### Production Mode
```bash
NODE_ENV=production npm start
# AUTO_SEED defaults to false
```

### Development Mode
```bash
NODE_ENV=development npm run dev
# AUTO_SEED defaults to true
```

---

**Note:** This flow runs **every time** the backend server starts, ensuring the database is always in the correct state!

